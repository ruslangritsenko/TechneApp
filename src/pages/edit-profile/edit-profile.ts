import { Component } from '@angular/core';
import { Http } from '@angular/http';
import { NavController, NavParams, MenuController, ModalController } from 'ionic-angular';

import { Global } from '../config/global';
import { KeysPipe } from '../../pipes/keys/keys';

import { ChangeProfilePicturePage } from './change-profile-picture/change-profile-picture';
import { HomePage } from '../home/home';
/**
 * Generated class for the EditProfilePage page.
 *
 * See http://ionicframework.com/docs/components/#navigation for more info
 * on Ionic pages and navigation.
 */

@Component({
  selector: 'page-edit-profile',
  templateUrl: 'edit-profile.html'
})
export class EditProfilePage {

    user: any;
    avatar200: string;
    errtxt: string;

    usStateList = { AL: 'Alabama', AK: 'Alaska', AZ: 'Arizona', AR: 'Arkansas', CA: 'California', CO: 'Colorado', CT: 'Connecticut', DE: 'Delaware', DC: 'District of Columbia', FL: 'Florida', GA: 'Georgia', HI: 'Hawaii', ID: 'Idaho', IL: 'Illinois', IN: 'Indiana', IA: 'Iowa', KS: 'Kansas', KY: 'Kentucky', LA: 'Louisiana', ME: 'Maine', MD: 'Maryland', MA: 'Massachusetts', MI: 'Michigan', MN: 'Minnesota', MS: 'Mississippi', MO: 'Missouri', MT: 'Montana', NE: 'Nebraska', NV: 'Nevada', NH: 'New Hampshire', NJ: 'New Jersey', NM: 'New Mexico', NY: 'New York', NC: 'North Carolina', ND: 'North Dakota', OH: 'Ohio', OK: 'Oklahoma', OR: 'Oregon', PA: 'Pennsylvania', RI: 'Rhode Island', SC: 'South Carolina', SD: 'South Dakota', TN: 'Tennessee', TX: 'Texas', UT: 'Utah', VT: 'Vermont', VA: 'Virginia', WA: 'Washington', WV: 'West Virginia', WI: 'Wisconsin', WY: 'Wyoming' };
    
    countryList = { US: 'United States', AF: 'Afghanistan', AX: 'Aland Islands', AL: 'Albania', DZ: 'Algeria', AS: 'American Samoa', AD: 'Andorra', AO: 'Angola', AI: 'Anguilla', AQ: 'Antarctica', AG: 'Antigua And Barbuda', AR: 'Argentina', AM: 'Armenia', AW: 'Aruba', AU: 'Australia', AT: 'Austria', AZ: 'Azerbaijan', BS: 'Bahamas', BH: 'Bahrain', BD: 'Bangladesh', BB: 'Barbados', BY: 'Belarus', BE: 'Belgium', BZ: 'Belize', BJ: 'Benin', BM: 'Bermuda', BT: 'Bhutan', BO: 'Bolivia', BA: 'Bosnia And Herzegovina', BW: 'Botswana', BV: 'Bouvet Island', BR: 'Brazil', IO: 'British Indian Ocean Territory', BN: 'Brunei Darussalam', BG: 'Bulgaria', BF: 'Burkina Faso', BI: 'Burundi', KH: 'Cambodia', CM: 'Cameroon', CA: 'Canada', CV: 'Cape Verde', KY: 'Cayman Islands', CF: 'Central African Republic', TD: 'Chad', CL: 'Chile', CN: 'China', CX: 'Christmas Island', CC: 'Cocos (Keeling) Islands', CO: 'Colombia', KM: 'Comoros', CG: 'Congo', CD: 'Congo, Democratic Republic', CK: 'Cook Islands', CR: 'Costa Rica', CI: 'Cote D\'Ivoire', HR: 'Croatia', CU: 'Cuba', CY: 'Cyprus', CZ: 'Czech Republic', DK: 'Denmark', DJ: 'Djibouti', DM: 'Dominica', DO: 'Dominican Republic', EC: 'Ecuador', EG: 'Egypt', SV: 'El Salvador', GQ: 'Equatorial Guinea', ER: 'Eritrea', EE: 'Estonia', ET: 'Ethiopia', FK: 'Falkland Islands (Malvinas)', FO: 'Faroe Islands', FJ: 'Fiji', FI: 'Finland', FR: 'France', GF: 'French Guiana', PF: 'French Polynesia', TF: 'French Southern Territories', GA: 'Gabon', GM: 'Gambia', GE: 'Georgia', DE: 'Germany', GH: 'Ghana', GI: 'Gibraltar', GR: 'Greece', GL: 'Greenland', GD: 'Grenada', GP: 'Guadeloupe', GU: 'Guam', GT: 'Guatemala', GG: 'Guernsey', GN: 'Guinea', GW: 'Guinea-Bissau', GY: 'Guyana', HT: 'Haiti', HM: 'Heard Island & Mcdonald Islands', VA: 'Holy See (Vatican City State)', HN: 'Honduras', HK: 'Hong Kong', HU: 'Hungary', IS: 'Iceland', IN: 'India', ID: 'Indonesia', IR: 'Iran, Islamic Republic Of', IQ: 'Iraq', IE: 'Ireland', IM: 'Isle Of Man', IL: 'Israel', IT: 'Italy', JM: 'Jamaica', JP: 'Japan', JE: 'Jersey', JO: 'Jordan', KZ: 'Kazakhstan', KE: 'Kenya', KI: 'Kiribati', KR: 'Korea', KW: 'Kuwait', KG: 'Kyrgyzstan', LA: 'Lao People\'s Democratic Republic', LV: 'Latvia', LB: 'Lebanon', LS: 'Lesotho', LR: 'Liberia', LY: 'Libyan Arab Jamahiriya', LI: 'Liechtenstein', LT: 'Lithuania', LU: 'Luxembourg', MO: 'Macao', MK: 'Macedonia', MG: 'Madagascar', MW: 'Malawi', MY: 'Malaysia', MV: 'Maldives', ML: 'Mali', MT: 'Malta', MH: 'Marshall Islands', MQ: 'Martinique', MR: 'Mauritania', MU: 'Mauritius', YT: 'Mayotte', MX: 'Mexico', FM: 'Micronesia, Federated States Of', MD: 'Moldova', MC: 'Monaco', MN: 'Mongolia', ME: 'Montenegro', MS: 'Montserrat', MA: 'Morocco', MZ: 'Mozambique', MM: 'Myanmar', NA: 'Namibia', NR: 'Nauru', NP: 'Nepal', NL: 'Netherlands', AN: 'Netherlands Antilles', NC: 'New Caledonia', NZ: 'New Zealand', NI: 'Nicaragua', NE: 'Niger', NG: 'Nigeria', NU: 'Niue', NF: 'Norfolk Island', MP: 'Northern Mariana Islands', NO: 'Norway', OM: 'Oman', PK: 'Pakistan', PW: 'Palau', PS: 'Palestinian Territory, Occupied', PA: 'Panama', PG: 'Papua New Guinea', PY: 'Paraguay', PE: 'Peru', PH: 'Philippines', PN: 'Pitcairn', PL: 'Poland', PT: 'Portugal', PR: 'Puerto Rico', QA: 'Qatar', RE: 'Reunion', RO: 'Romania', RU: 'Russian Federation', RW: 'Rwanda', BL: 'Saint Barthelemy', SH: 'Saint Helena', KN: 'Saint Kitts And Nevis', LC: 'Saint Lucia', MF: 'Saint Martin', PM: 'Saint Pierre And Miquelon', VC: 'Saint Vincent And Grenadines', WS: 'Samoa', SM: 'San Marino', ST: 'Sao Tome And Principe', SA: 'Saudi Arabia', SN: 'Senegal', RS: 'Serbia', SC: 'Seychelles', SL: 'Sierra Leone', SG: 'Singapore', SK: 'Slovakia', SI: 'Slovenia', SB: 'Solomon Islands', SO: 'Somalia', ZA: 'South Africa', GS: 'South Georgia And Sandwich Isl.', ES: 'Spain', LK: 'Sri Lanka', SD: 'Sudan', SR: 'Suriname', SJ: 'Svalbard And Jan Mayen', SZ: 'Swaziland', SE: 'Sweden', CH: 'Switzerland', SY: 'Syrian Arab Republic', TW: 'Taiwan', TJ: 'Tajikistan', TZ: 'Tanzania', TH: 'Thailand', TL: 'Timor-Leste', TG: 'Togo', TK: 'Tokelau', TO: 'Tonga', TT: 'Trinidad And Tobago', TN: 'Tunisia', TR: 'Turkey', TM: 'Turkmenistan', TC: 'Turks And Caicos Islands', TV: 'Tuvalu', UG: 'Uganda', UA: 'Ukraine', AE: 'United Arab Emirates', GB: 'United Kingdom', UM: 'United States Outlying Islands', UY: 'Uruguay', UZ: 'Uzbekistan', VU: 'Vanuatu', VE: 'Venezuela', VN: 'Viet Nam', VG: 'Virgin Islands, British', VI: 'Virgin Islands, U.S.', WF: 'Wallis And Futuna', EH: 'Western Sahara', YE: 'Yemen', ZM: 'Zambia', ZW: 'Zimbabwe' };
    
    timezoneList = { 0: 'Africa/Abidjan', 1: 'Africa/Accra', 2: 'Africa/Addis_Ababa', 3: 'Africa/Algiers', 4: 'Africa/Asmara', 5: 'Africa/Asmera', 6: 'Africa/Bamako', 7: 'Africa/Bangui', 8: 'Africa/Banjul', 9: 'Africa/Bissau', 10: 'Africa/Blantyre', 11: 'Africa/Brazzaville', 12: 'Africa/Bujumbura', 13: 'Africa/Cairo', 14: 'Africa/Casablanca', 15: 'Africa/Ceuta', 16: 'Africa/Conakry', 17: 'Africa/Dakar', 18: 'Africa/Dar_es_Salaam', 19: 'Africa/Djibouti', 20: 'Africa/Douala', 21: 'Africa/El_Aaiun', 22: 'Africa/Freetown', 23: 'Africa/Gaborone', 24: 'Africa/Harare', 25: 'Africa/Johannesburg', 26: 'Africa/Juba', 27: 'Africa/Kampala', 28: 'Africa/Khartoum', 29: 'Africa/Kigali', 30: 'Africa/Kinshasa', 31: 'Africa/Lagos', 32: 'Africa/Libreville', 33: 'Africa/Lome', 34: 'Africa/Luanda', 35: 'Africa/Lubumbashi', 36: 'Africa/Lusaka', 37: 'Africa/Malabo', 38: 'Africa/Maputo', 39: 'Africa/Maseru', 40: 'Africa/Mbabane', 41: 'Africa/Mogadishu', 42: 'Africa/Monrovia', 43: 'Africa/Nairobi', 44: 'Africa/Ndjamena', 45: 'Africa/Niamey', 46: 'Africa/Nouakchott', 47: 'Africa/Ouagadougou', 48: 'Africa/Porto-Novo', 49: 'Africa/Sao_Tome', 50: 'Africa/Timbuktu', 51: 'Africa/Tripoli', 52: 'Africa/Tunis', 53: 'Africa/Windhoek', 54: 'America/Adak', 55: 'America/Anchorage', 56: 'America/Anguilla', 57: 'America/Antigua', 58: 'America/Araguaina', 59: 'America/Argentina/Buenos_Aires', 60: 'America/Argentina/Catamarca', 61: 'America/Argentina/ComodRivadavia', 62: 'America/Argentina/Cordoba', 63: 'America/Argentina/Jujuy', 64: 'America/Argentina/La_Rioja', 65: 'America/Argentina/Mendoza', 66: 'America/Argentina/Rio_Gallegos', 67: 'America/Argentina/Salta', 68: 'America/Argentina/San_Juan', 69: 'America/Argentina/San_Luis', 70: 'America/Argentina/Tucuman', 71: 'America/Argentina/Ushuaia', 72: 'America/Aruba', 73: 'America/Asuncion', 74: 'America/Atikokan', 75: 'America/Atka', 76: 'America/Bahia', 77: 'America/Bahia_Banderas', 78: 'America/Barbados', 79: 'America/Belem', 80: 'America/Belize', 81: 'America/Blanc-Sablon', 82: 'America/Boa_Vista', 83: 'America/Bogota', 84: 'America/Boise', 85: 'America/Buenos_Aires', 86: 'America/Cambridge_Bay', 87: 'America/Campo_Grande', 88: 'America/Cancun', 89: 'America/Caracas', 90: 'America/Catamarca', 91: 'America/Cayenne', 92: 'America/Cayman', 93: 'America/Chicago', 94: 'America/Chihuahua', 95: 'America/Coral_Harbour', 96: 'America/Cordoba', 97: 'America/Costa_Rica', 98: 'America/Creston', 99: 'America/Cuiaba', 100: 'America/Curacao', 101: 'America/Danmarkshavn', 102: 'America/Dawson', 103: 'America/Dawson_Creek', 104: 'America/Denver', 105: 'America/Detroit', 106: 'America/Dominica', 107: 'America/Edmonton', 108: 'America/Eirunepe', 109: 'America/El_Salvador', 110: 'America/Ensenada', 111: 'America/Fort_Nelson', 112: 'America/Fort_Wayne', 113: 'America/Fortaleza', 114: 'America/Glace_Bay', 115: 'America/Godthab', 116: 'America/Goose_Bay', 117: 'America/Grand_Turk', 118: 'America/Grenada', 119: 'America/Guadeloupe', 120: 'America/Guatemala', 121: 'America/Guayaquil', 122: 'America/Guyana', 123: 'America/Halifax', 124: 'America/Havana', 125: 'America/Hermosillo', 126: 'America/Indiana/Indianapolis', 127: 'America/Indiana/Knox', 128: 'America/Indiana/Marengo', 129: 'America/Indiana/Petersburg', 130: 'America/Indiana/Tell_City', 131: 'America/Indiana/Vevay', 132: 'America/Indiana/Vincennes', 133: 'America/Indiana/Winamac', 134: 'America/Indianapolis', 135: 'America/Inuvik', 136: 'America/Iqaluit', 137: 'America/Jamaica', 138: 'America/Jujuy', 139: 'America/Juneau', 140: 'America/Kentucky/Louisville', 141: 'America/Kentucky/Monticello', 142: 'America/Knox_IN', 143: 'America/Kralendijk', 144: 'America/La_Paz', 145: 'America/Lima', 146: 'America/Los_Angeles', 147: 'America/Louisville', 148: 'America/Lower_Princes', 149: 'America/Maceio', 150: 'America/Managua', 151: 'America/Manaus', 152: 'America/Marigot', 153: 'America/Martinique', 154: 'America/Matamoros', 155: 'America/Mazatlan', 156: 'America/Mendoza', 157: 'America/Menominee', 158: 'America/Merida', 159: 'America/Metlakatla', 160: 'America/Mexico_City', 161: 'America/Miquelon', 162: 'America/Moncton', 163: 'America/Monterrey', 164: 'America/Montevideo', 165: 'America/Montreal', 166: 'America/Montserrat', 167: 'America/Nassau', 168: 'America/New_York', 169: 'America/Nipigon', 170: 'America/Nome', 171: 'America/Noronha', 172: 'America/North_Dakota/Beulah', 173: 'America/North_Dakota/Center', 174: 'America/North_Dakota/New_Salem', 175: 'America/Ojinaga', 176: 'America/Panama', 177: 'America/Pangnirtung', 178: 'America/Paramaribo', 179: 'America/Phoenix', 180: 'America/Port_of_Spain', 181: 'America/Port-au-Prince', 182: 'America/Porto_Acre', 183: 'America/Porto_Velho', 184: 'America/Puerto_Rico', 185: 'America/Punta_Arenas', 186: 'America/Rainy_River', 187: 'America/Rankin_Inlet', 188: 'America/Recife', 189: 'America/Regina', 190: 'America/Resolute', 191: 'America/Rio_Branco', 192: 'America/Rosario', 193: 'America/Santa_Isabel', 194: 'America/Santarem', 195: 'America/Santiago', 196: 'America/Santo_Domingo', 197: 'America/Sao_Paulo', 198: 'America/Scoresbysund', 199: 'America/Shiprock', 200: 'America/Sitka', 201: 'America/St_Barthelemy', 202: 'America/St_Johns', 203: 'America/St_Kitts', 204: 'America/St_Lucia', 205: 'America/St_Thomas', 206: 'America/St_Vincent', 207: 'America/Swift_Current', 208: 'America/Tegucigalpa', 209: 'America/Thule', 210: 'America/Thunder_Bay', 211: 'America/Tijuana', 212: 'America/Toronto', 213: 'America/Tortola', 214: 'America/Vancouver', 215: 'America/Virgin', 216: 'America/Whitehorse', 217: 'America/Winnipeg', 218: 'America/Yakutat', 219: 'America/Yellowknife', 220: 'Antarctica/Casey', 221: 'Antarctica/Davis', 222: 'Antarctica/DumontDUrville', 223: 'Antarctica/Macquarie', 224: 'Antarctica/Mawson', 225: 'Antarctica/McMurdo', 226: 'Antarctica/Palmer', 227: 'Antarctica/Rothera', 228: 'Antarctica/South_Pole', 229: 'Antarctica/Syowa', 230: 'Antarctica/Troll', 231: 'Antarctica/Vostok', 232: 'Arctic/Longyearbyen', 233: 'Asia/Aden', 234: 'Asia/Almaty', 235: 'Asia/Amman', 236: 'Asia/Anadyr', 237: 'Asia/Aqtau', 238: 'Asia/Aqtobe', 239: 'Asia/Ashgabat', 240: 'Asia/Ashkhabad', 241: 'Asia/Atyrau', 242: 'Asia/Baghdad', 243: 'Asia/Bahrain', 244: 'Asia/Baku', 245: 'Asia/Bangkok', 246: 'Asia/Barnaul', 247: 'Asia/Beirut', 248: 'Asia/Bishkek', 249: 'Asia/Brunei', 250: 'Asia/Calcutta', 251: 'Asia/Chita', 252: 'Asia/Choibalsan', 253: 'Asia/Chongqing', 254: 'Asia/Chungking', 255: 'Asia/Colombo', 256: 'Asia/Dacca', 257: 'Asia/Damascus', 258: 'Asia/Dhaka', 259: 'Asia/Dili', 260: 'Asia/Dubai', 261: 'Asia/Dushanbe', 262: 'Asia/Famagusta', 263: 'Asia/Gaza', 264: 'Asia/Harbin', 265: 'Asia/Hebron', 266: 'Asia/Ho_Chi_Minh', 267: 'Asia/Hong_Kong', 268: 'Asia/Hovd', 269: 'Asia/Irkutsk', 270: 'Asia/Istanbul', 271: 'Asia/Jakarta', 272: 'Asia/Jayapura', 273: 'Asia/Jerusalem', 274: 'Asia/Kabul', 275: 'Asia/Kamchatka', 276: 'Asia/Karachi', 277: 'Asia/Kashgar', 278: 'Asia/Kathmandu', 279: 'Asia/Katmandu', 280: 'Asia/Khandyga', 281: 'Asia/Kolkata', 282: 'Asia/Krasnoyarsk', 283: 'Asia/Kuala_Lumpur', 284: 'Asia/Kuching', 285: 'Asia/Kuwait', 286: 'Asia/Macao', 287: 'Asia/Macau', 288: 'Asia/Magadan', 289: 'Asia/Makassar', 290: 'Asia/Manila', 291: 'Asia/Muscat', 292: 'Asia/Nicosia', 293: 'Asia/Novokuznetsk', 294: 'Asia/Novosibirsk', 295: 'Asia/Omsk', 296: 'Asia/Oral', 297: 'Asia/Phnom_Penh', 298: 'Asia/Pontianak', 299: 'Asia/Pyongyang', 300: 'Asia/Qatar', 301: 'Asia/Qyzylorda', 302: 'Asia/Rangoon', 303: 'Asia/Riyadh', 304: 'Asia/Saigon', 305: 'Asia/Sakhalin', 306: 'Asia/Samarkand', 307: 'Asia/Seoul', 308: 'Asia/Shanghai', 309: 'Asia/Singapore', 310: 'Asia/Srednekolymsk', 311: 'Asia/Taipei', 312: 'Asia/Tashkent', 313: 'Asia/Tbilisi', 314: 'Asia/Tehran', 315: 'Asia/Tel_Aviv', 316: 'Asia/Thimbu', 317: 'Asia/Thimphu', 318: 'Asia/Tokyo', 319: 'Asia/Tomsk', 320: 'Asia/Ujung_Pandang', 321: 'Asia/Ulaanbaatar', 322: 'Asia/Ulan_Bator', 323: 'Asia/Urumqi', 324: 'Asia/Ust-Nera', 325: 'Asia/Vientiane', 326: 'Asia/Vladivostok', 327: 'Asia/Yakutsk', 328: 'Asia/Yangon', 329: 'Asia/Yekaterinburg', 330: 'Asia/Yerevan', 331: 'Atlantic/Azores', 332: 'Atlantic/Bermuda', 333: 'Atlantic/Canary', 334: 'Atlantic/Cape_Verde', 335: 'Atlantic/Faeroe', 336: 'Atlantic/Faroe', 337: 'Atlantic/Jan_Mayen', 338: 'Atlantic/Madeira', 339: 'Atlantic/Reykjavik', 340: 'Atlantic/South_Georgia', 341: 'Atlantic/St_Helena', 342: 'Atlantic/Stanley', 343: 'Australia/ACT', 344: 'Australia/Adelaide', 345: 'Australia/Brisbane', 346: 'Australia/Broken_Hill', 347: 'Australia/Canberra', 348: 'Australia/Currie', 349: 'Australia/Darwin', 350: 'Australia/Eucla', 351: 'Australia/Hobart', 352: 'Australia/LHI', 353: 'Australia/Lindeman', 354: 'Australia/Lord_Howe', 355: 'Australia/Melbourne', 356: 'Australia/North', 357: 'Australia/NSW', 358: 'Australia/Perth', 359: 'Australia/Queensland', 360: 'Australia/South', 361: 'Australia/Sydney', 362: 'Australia/Tasmania', 363: 'Australia/Victoria', 364: 'Australia/West', 365: 'Australia/Yancowinna', 366: 'Brazil/Acre', 367: 'Brazil/DeNoronha', 368: 'Brazil/East', 369: 'Brazil/West', 370: 'Canada/Atlantic', 371: 'Canada/Central', 372: 'Canada/Eastern', 373: 'Canada/East-Saskatchewan', 374: 'Canada/Mountain', 375: 'Canada/Newfoundland', 376: 'Canada/Pacific', 377: 'Canada/Saskatchewan', 378: 'Canada/Yukon', 379: 'CET', 380: 'Chile/Continental', 381: 'Chile/EasterIsland', 382: 'CST6CDT', 383: 'Cuba', 384: 'EET', 385: 'Egypt', 386: 'Eire', 387: 'EST', 388: 'EST5EDT', 389: 'Etc/GMT', 390: 'Etc/GMT+0', 391: 'Etc/GMT+1', 392: 'Etc/GMT+10', 393: 'Etc/GMT+11', 394: 'Etc/GMT+12', 395: 'Etc/GMT+2', 396: 'Etc/GMT+3', 397: 'Etc/GMT+4', 398: 'Etc/GMT+5', 399: 'Etc/GMT+6', 400: 'Etc/GMT+7', 401: 'Etc/GMT+8', 402: 'Etc/GMT+9', 403: 'Etc/GMT0', 404: 'Etc/GMT-0', 405: 'Etc/GMT-1', 406: 'Etc/GMT-10', 407: 'Etc/GMT-11', 408: 'Etc/GMT-12', 409: 'Etc/GMT-13', 410: 'Etc/GMT-14', 411: 'Etc/GMT-2', 412: 'Etc/GMT-3', 413: 'Etc/GMT-4', 414: 'Etc/GMT-5', 415: 'Etc/GMT-6', 416: 'Etc/GMT-7', 417: 'Etc/GMT-8', 418: 'Etc/GMT-9', 419: 'Etc/Greenwich', 420: 'Etc/UCT', 421: 'Etc/Universal', 422: 'Etc/UTC', 423: 'Etc/Zulu', 424: 'Europe/Amsterdam', 425: 'Europe/Andorra', 426: 'Europe/Astrakhan', 427: 'Europe/Athens', 428: 'Europe/Belfast', 429: 'Europe/Belgrade', 430: 'Europe/Berlin', 431: 'Europe/Bratislava', 432: 'Europe/Brussels', 433: 'Europe/Bucharest', 434: 'Europe/Budapest', 435: 'Europe/Busingen', 436: 'Europe/Chisinau', 437: 'Europe/Copenhagen', 438: 'Europe/Dublin', 439: 'Europe/Gibraltar', 440: 'Europe/Guernsey', 441: 'Europe/Helsinki', 442: 'Europe/Isle_of_Man', 443: 'Europe/Istanbul', 444: 'Europe/Jersey', 445: 'Europe/Kaliningrad', 446: 'Europe/Kiev', 447: 'Europe/Kirov', 448: 'Europe/Lisbon', 449: 'Europe/Ljubljana', 450: 'Europe/London', 451: 'Europe/Luxembourg', 452: 'Europe/Madrid', 453: 'Europe/Malta', 454: 'Europe/Mariehamn', 455: 'Europe/Minsk', 456: 'Europe/Monaco', 457: 'Europe/Moscow', 458: 'Europe/Nicosia', 459: 'Europe/Oslo', 460: 'Europe/Paris', 461: 'Europe/Podgorica', 462: 'Europe/Prague', 463: 'Europe/Riga', 464: 'Europe/Rome', 465: 'Europe/Samara', 466: 'Europe/San_Marino', 467: 'Europe/Sarajevo', 468: 'Europe/Saratov', 469: 'Europe/Simferopol', 470: 'Europe/Skopje', 471: 'Europe/Sofia', 472: 'Europe/Stockholm', 473: 'Europe/Tallinn', 474: 'Europe/Tirane', 475: 'Europe/Tiraspol', 476: 'Europe/Ulyanovsk', 477: 'Europe/Uzhgorod', 478: 'Europe/Vaduz', 479: 'Europe/Vatican', 480: 'Europe/Vienna', 481: 'Europe/Vilnius', 482: 'Europe/Volgograd', 483: 'Europe/Warsaw', 484: 'Europe/Zagreb', 485: 'Europe/Zaporozhye', 486: 'Europe/Zurich', 487: 'GB', 488: 'GB-Eire', 489: 'GMT', 490: 'GMT+0', 491: 'GMT0', 492: 'GMT-0', 493: 'Greenwich', 494: 'Hongkong', 495: 'HST', 496: 'Iceland', 497: 'Indian/Antananarivo', 498: 'Indian/Chagos', 499: 'Indian/Christmas', 500: 'Indian/Cocos', 501: 'Indian/Comoro', 502: 'Indian/Kerguelen', 503: 'Indian/Mahe', 504: 'Indian/Maldives', 505: 'Indian/Mauritius', 506: 'Indian/Mayotte', 507: 'Indian/Reunion', 508: 'Iran', 509: 'Israel', 510: 'Jamaica', 511: 'Japan', 512: 'Kwajalein', 513: 'Libya', 514: 'MET', 515: 'Mexico/BajaNorte', 516: 'Mexico/BajaSur', 517: 'Mexico/General', 518: 'MST', 519: 'MST7MDT', 520: 'Navajo', 521: 'NZ', 522: 'NZ-CHAT', 523: 'Pacific/Apia', 524: 'Pacific/Auckland', 525: 'Pacific/Bougainville', 526: 'Pacific/Chatham', 527: 'Pacific/Chuuk', 528: 'Pacific/Easter', 529: 'Pacific/Efate', 530: 'Pacific/Enderbury', 531: 'Pacific/Fakaofo', 532: 'Pacific/Fiji', 533: 'Pacific/Funafuti', 534: 'Pacific/Galapagos', 535: 'Pacific/Gambier', 536: 'Pacific/Guadalcanal', 537: 'Pacific/Guam', 538: 'Pacific/Honolulu', 539: 'Pacific/Johnston', 540: 'Pacific/Kiritimati', 541: 'Pacific/Kosrae', 542: 'Pacific/Kwajalein', 543: 'Pacific/Majuro', 544: 'Pacific/Marquesas', 545: 'Pacific/Midway', 546: 'Pacific/Nauru', 547: 'Pacific/Niue', 548: 'Pacific/Norfolk', 549: 'Pacific/Noumea', 550: 'Pacific/Pago_Pago', 551: 'Pacific/Palau', 552: 'Pacific/Pitcairn', 553: 'Pacific/Pohnpei', 554: 'Pacific/Ponape', 555: 'Pacific/Port_Moresby', 556: 'Pacific/Rarotonga', 557: 'Pacific/Saipan', 558: 'Pacific/Samoa', 559: 'Pacific/Tahiti', 560: 'Pacific/Tarawa', 561: 'Pacific/Tongatapu', 562: 'Pacific/Truk', 563: 'Pacific/Wake', 564: 'Pacific/Wallis', 565: 'Pacific/Yap', 566: 'Poland', 567: 'Portugal', 568: 'PRC', 569: 'PST8PDT', 570: 'ROC', 571: 'ROK', 572: 'Singapore', 573: 'Turkey', 574: 'UCT', 575: 'Universal', 576: 'US/Alaska', 577: 'US/Aleutian', 578: 'US/Arizona', 579: 'US/Central', 580: 'US/Eastern', 581: 'US/East-Indiana', 582: 'US/Hawaii', 583: 'US/Indiana-Starke', 584: 'US/Michigan', 585: 'US/Mountain', 586: 'US/Pacific', 587: 'US/Pacific-New', 588: 'US/Samoa', 589: 'UTC', 590: 'WET', 591: 'W-SU', 592: 'Zulu' };

    constructor(public navCtrl: NavController, public navParams: NavParams, public modalCtrl: ModalController, public menuCtrl: MenuController, private http: Http) {
        this.user = Global.authentication['user'];
        this.avatar200 = Global.avatar200;
        this.menuCtrl.enable(true);
    }

    ionViewDidLoad() {
        console.log('ionViewDidLoad EditProfilePage');
    }

    back() {
        this.navCtrl.setRoot(HomePage);
    }

    showEditProfilePictureDialog(){
        let modal = this.modalCtrl.create(ChangeProfilePicturePage);
        modal.onDidDismiss(data => {
            if(data){
                Global.avatar200 = data;
                this.avatar200 = data;
            }
        });
        modal.present();
    }

    updateUserProfile(){
        this.http.put(Global.server_url + '/api/user', this.user).subscribe( data => {
            this.navCtrl.pop();
        }, err => {
            err = JSON.parse(err['_body']);
            this.errtxt = err.message;
        })
    }

}
